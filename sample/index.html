<!doctype html>
<html>
  <head>
    <script src="../dist/mamejs.js"></script>
  </head>
  <body>
    <h1>MAMEJS - sample page</h1>
    <p>Controls : <br />
    Credit: 6 <br />
    Start: 1 <br />
    button 1: Crtl <br />
    button 2: alt <br />
    button 3: space <br />
    left/right : <- -> <br />
    </p>
    <div class="container">
      <div id="loading">Loading roms and emulator</div>
      <canvas id="display" style="width:320px;height:224px" width="320" height="224"></canvas>
    </div>
    <script>
      var game = {
        files : {
          'shinobi.zip': 'https://cors.archive.org/cors/arcade_shinobi/shinobi.zip',
          //'snowbros.zip': '../emulators/roms/snowbros.zip',
          //'twincobr.zip': '../emulators/roms/twincobr.zip',
          //'bublbobl.zip': '../emulators/bublbobl.zip',
          //'shinobi.zip': '../emulators/roms/shinobi.zip',
          //'sf2.zip' : '../emulators/roms/sf2.zip',
          //'ghouls.zip' : '../emulators/cps1/ghouls.zip',
          //'outrun.zip' : '../emulators/outrun/outrun.zip',
          //'outrun.cfg' : '../emulators/outrun/outrun.cfg',
          //'outrun.zip': 'https://cors.archive.org/cors/arcade_outrun/outrun.zip',
        },
        driver: 'shinobi',
        emulator: 'https://rawgit.com/mamejs/mamejs-emulators/master/mamejs-serie1.js',
        resolution: {
          width: 320,
          height: 224
        }
      }

      var canvas = document.getElementById('display')

      // Emscripten doesn't use the proper prefixed functions for fullscreen requests,
      // so let's map the prefixed versions to the correct function.
      canvas.requestPointerLock = canvas.requestPointerLock || canvas.mozRequestPointerLock || canvas.webkitRequestPointerLock;

      mamejs.loadGame(game, canvas).then(function(MAMEJS) {
        window.MAMEJS = MAMEJS
        console.log('MAME launched', MAMEJS)

      }).catch(function(error) {
        console.error('error launching MAME', error)
      })
    </script>
  </body>
</html>
